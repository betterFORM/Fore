<?xml version="1.0" encoding="UTF-8"?>
<!--
  ~ Copyright (c) 2012. betterFORM Project - http://www.betterform.de
  ~ Licensed under the terms of BSD License
  -->

<html xmlns="http://www.w3.org/1999/xhtml"
    xmlns:xf="http://www.w3.org/2002/xforms"
    xmlns:ev="http://www.w3.org/2001/xml-events">
    <head>

        <xf:model id="model-1">
            <xf:instance id="instance-1" xmlns="">
                <data>
                    <item value1="attribute1" value2="attribute2">Nodevalue</item>
                </data>
            </xf:instance>

            <xf:bind nodeset="instance('instance-1')">
                <xf:bind id="b-1" nodeset="item">
                    <xf:bind id="b-2" nodeset="@value1"/>
                    <xf:bind id="b-3" nodeset="@value2"/>
                </xf:bind>
            </xf:bind>
            <xf:setvalue ev:event="xforms-ready" ref="item/@value1" value="'foo'"/>
        </xf:model>
    </head>
    <body>
    <!-- OUTER SWITCH -->
    <xf:group appearance="full">
        <xf:input id="i-b-1" bind="b-1"><xf:label>Bind to Node</xf:label></xf:input>
        <xf:input id="i-b-2" bind="b-2"><xf:label>Bind to Attribute1</xf:label></xf:input>
        <xf:input id="i-r-1" ref="instance('instance-1')/item/@value1"><xf:label>Ref to Attribute1</xf:label></xf:input>
        <xf:input id="i-r-2" ref="instance('instance-1')/item/@value2"><xf:label>Ref to Attribute2</xf:label></xf:input>
    </xf:group>
    </body>
</html>
