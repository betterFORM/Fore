<?xml version="1.0" encoding="UTF-8"?>
<!--
  ~ Copyright (c) 2012. betterFORM Project - http://www.betterform.de
  ~ Licensed under the terms of BSD License
  -->

<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:xf="http://www.w3.org/2002/xforms">
    <head>
        <meta name="author" content="unl at users.sourceforge.net"/>
        <meta name="description" content="test form for repeated switches"/>
        <meta name="version" content="$Id: RepeatedSwitchTest.xhtml 2272 2006-08-18 23:22:09Z unl $"/>

        <title>Repeated Switch</title>

        <xf:model>
            <xf:instance id="data" xmlns="">
                <data>
                    <item>One</item>
                    <item>Two</item>
                    <item>Three</item>
                </data>
            </xf:instance>
        </xf:model>
    </head>
    <body>
        <xf:group appearance="full">
            <xf:label>Repeated Switch</xf:label>
            <xf:repeat id="repeat" nodeset="item" appearance="full">
                <xf:switch id="switch">
                    <xf:case id="view">
                        <xf:output id="output" ref=".">
                            <xf:label>Item</xf:label>
                        </xf:output>
                        <xf:trigger id="trigger-edit">
                            <xf:label>Edit</xf:label>
                            <xf:toggle case="edit"/>
                        </xf:trigger>
                    </xf:case>
                    <xf:case id="edit">
                        <xf:input id="input" ref=".">
                            <xf:label>Item</xf:label>
                        </xf:input>
                        <xf:trigger id="trigger-view">
                            <xf:label>View</xf:label>
                            <xf:toggle case="view"/>
                        </xf:trigger>
                    </xf:case>
                </xf:switch>
            </xf:repeat>
            <xf:group appearance="minimal">
                <xf:label>Modify Repeat</xf:label>
                <xf:trigger id="trigger-insert">
                    <xf:label>Insert item</xf:label>
                    <xf:action>
                        <xf:insert nodeset="item" at="index('repeat')" position="after"/>
                    </xf:action>
                </xf:trigger>
                <xf:trigger id="trigger-delete">
                    <xf:label>Delete item</xf:label>
                    <xf:action>
                        <xf:delete nodeset="item" at="index('repeat')"/>
                    </xf:action>
                </xf:trigger>
            </xf:group>
        </xf:group>
    </body>
</html>
